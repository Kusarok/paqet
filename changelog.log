# Changelog

## [Unreleased] - 2026-02-02

### Added
- **Smart Auto-Configuration:** Automatically detects network interface, local IP, and gateway IP.
- **ARP Probing:** Verifies gateway MAC address with 100% accuracy via active ARP requests.
- **Anti-Lockout Safety:** Prevents firewall rules from blocking SSH port (22).
- **Interactive Setup:** Wizard-style configuration when `config.yaml` is missing.
- **Firewall Evasion (Phase 1):**
  - **Randomized DSCP:** Uses realistic values (0, 8, 10, 18) instead of fixed 46.
  - **Realistic TTL:** Set to 64 (Linux standard) to mimic OS behavior.
  - **TCP Option Randomization:** Varies MSS (1380-1460), Window Scale (7-9), and option order.
  - **Timing Jitter:** Adds Â±2ms randomness to packet intervals.

### Changed
- **PCAP Buffer Optimization:** Reduced default buffer size (Server: 8MB -> 2MB, Client: 4MB -> 1MB) for lower memory usage.
- **Packet Construction:** Migrated to optimized `gopacket` serialization with dynamic headers.

### Fixed
- **Packet Size Pattern:** Mitigated fixed packet size fingerprinting via TCP option padding.

---

# Quick Start Guide

## 1. Installation
Download the binary for your architecture.

## 2. Server Setup (Auto-Config)
Simply run the binary without arguments. The wizard will handle everything.
```bash
sudo ./paqet run
```
- Select **Role: Server**
- Follow prompts to auto-detect network and generate a secret key.
- Allow iptables rules when asked (Recommended).

## 3. Client Setup
Copy the **Secret Key** generated on the server.
```bash
sudo ./paqet run
```
- Select **Role: Client**
- Enter Server IP:Port (e.g., `34.79.235.39:9999`)
- Enter the Secret Key.

## 4. Usage
The client starts a SOCKS5 proxy on `127.0.0.1:1080`.
```bash
curl -x socks5h://127.0.0.1:1080 https://httpbin.org/ip
```
